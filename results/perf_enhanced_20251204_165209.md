# SurrealDB Performance Benchmark - Enhanced Schema

**Date:** 2025-12-04 16:52:09
**Database:** data/lastmile_enhanced.db
**Schema:** Record links + Graph edges (RELATE)

## Results

| Test | Description | Time (ms) | Rows |
|------|-------------|-----------|------|
| simple_count | Count all shipments | 29.13 | 1 |
| carrier_otd_record_link | Top 20 carriers by OTD using record links | 1771.69 | 20 |
| lane_carrier_matrix_record | Top 50 lane-carrier combos via record links | 798.63 | 50 |
| carrier_shipment_totals_record | Shipment count per carrier (record link) | 583.92 | 20 |
| shipments_by_origin_record | Shipments per origin (record link) | 595.24 | 20 |
| carrier_lanes_record_link | Lanes for specific carrier (record link) | 1030.30 | 20 |
| lane_stats_for_similarity | Compute lane stats (for vector search) | 1383.07 | 20 |
| complex_late_analysis | Late shipments by carrier and DOW | 268.62 | 50 |
| best_carrier_per_lane | Best carrier per lane (record links) | 1909.84 | 100 |
| filtered_scan | Significantly late LTL shipments | 841.18 | 100 |
|------|-------------|-----------|------|
| **TOTAL** | | **9211.63** | |

## Schema Enhancements

1. **Record Links**: Shipments use `carrier: carrier:abc123` instead of `carrier_ref: "abc123"`
2. **Graph Edges**: `shipped_by`, `from_origin`, `to_destination`, `on_lane` relations
3. **Deterministic IDs**: Entities have predictable IDs for direct lookup
4. **Indexed Record Links**: carrier and lane fields are indexed
